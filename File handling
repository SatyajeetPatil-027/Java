package javatest;

import java.io.*;

public class ReadFile 
{
    public static void main(String[] args)
    {
        BufferedReader br = null;
        FileInputStream fin = null;
        FileOutputStream fout = null;

        try 
        {
            br = new BufferedReader(new InputStreamReader(System.in));

            System.out.print("Enter file name: ");
            String fileName = br.readLine();

            try 
            {
                fin = new FileInputStream(fileName);
                System.out.println("\n--- Contents of the file ---");
                int ch;
                while ((ch = fin.read()) != -1)
                {
                    System.out.print((char) ch);
                }
                
                fin.close();
            } 
            
            catch (FileNotFoundException e) 
            {
                System.out.println("No file founded. It will be created when you add data.");
            }

            System.out.print("\n\nDo you want to add data into the file? (yes/no): ");
            String choice = br.readLine();

            if (choice.equalsIgnoreCase("yes"))
            {
                System.out.println("Enter the text to add in the file:");
                String data = br.readLine();

                fout = new FileOutputStream(fileName, true);
                fout.write(data.getBytes());
                fout.close();

                System.out.println("Data is successfully added to the file.");
            } 
            
            else 
            {
                System.out.println("No changes made in the file.");
            }

        } 
        
        catch (IOException e) 
        {
            System.out.println("Error: " + e.getMessage());
        } 
        
        finally 
        {
            try 
            {
                if (br != null) br.close();
                if (fin != null) fin.close();
                if (fout != null) fout.close();
            } 
            catch (IOException e)
            {
                System.out.println("Error closing resources: " + e.getMessage());
            }
        }
    }
}
